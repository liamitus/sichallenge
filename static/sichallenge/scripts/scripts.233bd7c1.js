"use strict";function Reservation(a){}angular.module("sichallengeApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ui.bootstrap"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/upcoming",{templateUrl:"views/upcoming.html",controller:"UpcomingCtrl",controllerAs:"upcoming"}).otherwise({redirectTo:"/"})}]),angular.module("sichallengeApp").controller("MainCtrl",["$filter","$scope","$resource","$uibModal",function(a,b,c,d){var e=c("/restaurants");b.showReservationModal=function(c){var e=a("filter")(b.restaurants,{id:c})[0],f=d.open({animation:!0,templateUrl:"views/restaurantModal.html",controller:"ReservationCtrl",resolve:{restaurant:function(){return e}}});f.result.then(function(){},function(){console.log("Modal dismissed at: "+new Date)})};var f=e.get(function(){b.restaurants=f.restaurants})}]),angular.module("sichallengeApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("sichallengeApp").controller("UpcomingCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("sichallengeApp").service("reservationService",Reservation),Reservation.$inject=["$resource"],angular.module("sichallengeApp").service("restaurantService",["$resource",function(a){a("/restaurants"),a("/restaurant/:restaurantId/reservation",{restaurantId:"@id"});return{makeReservation:function(a){}}}]),angular.module("sichallengeApp").controller("ReservationCtrl",["$filter","$resource","$scope","$uibModalInstance","restaurant",function(a,b,c,d,e){var f=b("/restaurant/:restaurantId/reservation",{restaurantId:e.id});c.reservation={date:new Date},c.restaurant=e,c.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],c.format=c.formats[0],c.altInputFormats=["M!/d!/yyyy"],c.datepicker={opened:!1},c.openDatepicker=function(){c.datepicker.opened=!0},c.makeReservation=function(b){var d=c.reservation,e=a("date")(d.date,"yyyy-MM-dd")+"T"+b;d.date=new Date(e),f.save(d)}}]),angular.module("sichallengeApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="row restaurants-grid"> <div class="restaurant col-sm-4" style="background-image: url(\'{{restaurant.image_url}}\')" ng-repeat="restaurant in restaurants" data="{{restaurant.id}}" ng-click="showReservationModal(restaurant.id)"> <div class="restaurant-name">{{restaurant.name}}</div> <div class="gradient-bg"></div> </div> </div>'),a.put("views/restaurantModal.html",'<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">{{restaurant.name}}</h4> </div> <div class="modal-body"> <div class="form-group"> <label for="name">Name</label> <input id="name" type="text" class="form-control" placeholder="What\'s your name?" ng-model="reservation.name"> </div> <div class="form-group"> <label for="size">Party Size</label> <input id="size" type="text" class="form-control" placeholder="How many people?" ng-model="reservation.size"> </div> <div class="form-group"> <label for="date">Date</label> <p class="input-group"> <input id="date" type="text" class="form-control" placeholder="When will you be joining us?" uib-datepicker-popup="{{format}}" ng-model="reservation.date" is-open="datepicker.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats"> <span class="input-group-btn"> <button type="button" class="btn btn-default" ng-click="openDatepicker()"><i class="glyphicon glyphicon-calendar"></i></button> </span> </p> </div> <div> <button class="btn btn-default" ng-click="makeReservation(\'18:00:00\')">6:00pm</button> <button class="btn btn-default" ng-click="makeReservation(\'19:00:00\')">7:00pm</button> <button class="btn btn-default" ng-click="makeReservation(\'20:00:00\')">8:00pm</button> </div> </div> <!-- /.modal-body --> </div><!-- /.modal-content -->'),a.put("views/upcoming.html","<p>This is the upcoming view.</p>")}]);